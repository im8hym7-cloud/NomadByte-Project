<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>SHIHNAH | Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ù…ÙˆØ­Ø¯Ø©</title>
    <style>
        :root { --navy: #0a192f; --gold: #f39c12; }
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: #0a2e5c; color: white; }
        header { background: #000; padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; }
        .nav-btns { display: flex; gap: 10px; }
        .btn { padding: 6px 15px; border-radius: 5px; text-decoration: none; font-size: 0.8rem; font-weight: bold; }
        .btn-gold { background: var(--gold); color: white; }
        .btn-red { background: #e74c3c; color: white; }
        .search-container { background: white; border-radius: 15px; padding: 20px; max-width: 1050px; margin: -30px auto 30px; display: flex; gap: 15px; align-items: flex-end; color: #333; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .fld { flex: 1; display: flex; flex-direction: column; gap: 5px; }
        select, input { padding: 8px; border: 1px solid #ccc; border-radius: 5px; width: 100%; }
        .btn-search { background: var(--gold); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .card { background: white; border-radius: 15px; padding: 25px; text-align: center; color: #0a2e5c; border-bottom: 5px solid var(--gold); position: relative; }
        .price { font-size: 1.6rem; font-weight: 800; margin: 10px 0; }
        .btn-book { background: #0a2e5c; color: white; border: none; width: 100%; padding: 10px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <header>
        <div class="nav-btns">
            <a href="login.html" class="btn btn-gold">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
            <a href="site-admin.html" class="btn btn-red">ğŸ›¡ï¸ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a>
        </div>
        <div style="font-weight: 900; font-size: 1.5rem;">SHIHNAH</div>
    </header>

    <div style="text-align:center; padding: 40px;">
        <h1>Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ù…ÙˆØ­Ø¯Ø© Ù„Ù„Ù†Ù‚Ù„ Ø§Ù„Ù„ÙˆØ¬Ø³ØªÙŠ</h1>
    </div>

    <div class="search-container">
        <div class="fld"><label>Ù…Ù† Ù…Ø¯ÙŠÙ†Ø©:</label>
            <select id="from_city">
                <optgroup label="Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙˆØ³Ø·Ù‰"><option>Ø§Ù„Ø±ÙŠØ§Ø¶</option><option>Ø§Ù„Ø®Ø±Ø¬</option></optgroup>
                <optgroup label="Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ©"><option>Ø¬Ø¯Ø©</option><option>Ù…ÙƒØ©</option></optgroup>
                <optgroup label="Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ©"><option>Ø§Ù„Ø¯Ù…Ø§Ù…</option><option>Ø§Ù„Ø®Ø¨Ø±</option></optgroup>
                <optgroup label="Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹"><option>Ù†ÙŠÙˆÙ…</option></optgroup>
            </select>
        </div>
        <div class="fld"><label>Ø¥Ù„Ù‰ ÙˆØ¬Ù‡Ø©:</label>
            <select id="to_city">
                <optgroup label="Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙˆØ³Ø·Ù‰"><option>Ø§Ù„Ø±ÙŠØ§Ø¶</option><option>Ø§Ù„Ø®Ø±Ø¬</option></optgroup>
                <optgroup label="Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ©"><option>Ø¬Ø¯Ø©</option><option>Ù…ÙƒØ©</option></optgroup>
                <optgroup label="Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ©"><option>Ø§Ù„Ø¯Ù…Ø§Ù…</option><option>Ø§Ù„Ø®Ø¨Ø±</option></optgroup>
                <optgroup label="Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹"><option>Ù†ÙŠÙˆÙ…</option></optgroup>
            </select>
        </div>
        <div class="fld" style="flex:0.4;"><label>Ø§Ù„ÙˆØ²Ù†:</label><input type="number" id="weight_val" value="1"></div>
        <button class="btn-search" onclick="updatePrices()">Ø¨Ø­Ø« Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</button>
    </div>

    <div class="results-grid">
        <div class="card"><h3>Ø§Ù„Ù…Ø¬Ø¯ÙˆØ¹ÙŠ</h3><div class="price" id="p1">-- Ø±ÙŠØ§Ù„</div><button class="btn-book">Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button></div>
        <div class="card"><h3>Ø£Ø±Ø§Ù…ÙƒØ³</h3><div class="price" id="p2">-- Ø±ÙŠØ§Ù„</div><button class="btn-book">Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button></div>
        <div class="card"><h3>Ø³Ù…Ø³Ø§</h3><div class="price" id="p3">-- Ø±ÙŠØ§Ù„</div><button class="btn-book">Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button></div>
        <div class="card"><h3>Ø²Ø§Ø¬Ù„</h3><div class="price" id="p4">-- Ø±ÙŠØ§Ù„</div><button class="btn-book">Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA_BaYYI_ZC8EO5RRMxL1Wq-_oYBAHuT2M",
            authDomain: "sh7na-database.firebaseapp.com",
            databaseURL: "https://sh7na-database-default-rtdb.firebaseio.com",
            projectId: "sh7na-database",
            appId: "1:334773528813:web:7ff9c93d44b8d4ef8dc4e4"
        };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        window.updatePrices = function() {
            const w = document.getElementById('weight_val').value;
            onValue(ref(db, 'shipping_rates'), (snap) => {
                const r = snap.val();
                document.getElementById('p1').innerText = (r.almajdouie * w).toFixed(2) + " Ø±ÙŠØ§Ù„";
                document.getElementById('p2').innerText = (r.aramex * w).toFixed(2) + " Ø±ÙŠØ§Ù„";
                document.getElementById('p3').innerText = (r.smsa * w).toFixed(2) + " Ø±ÙŠØ§Ù„";
                document.getElementById('p4').innerText = (r.zajel * w).toFixed(2) + " Ø±ÙŠØ§Ù„";
            }, {onlyOnce: true});
        }
    </script>
</body>
</html>
