<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHIHNAH | المنصة الموحدة للنقل اللوجستي</title>
    <style>
        :root { --navy: #0a2e5c; --gold: #f39c12; --bg-light: #f4f7f6; }
        body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--navy); color: white; overflow-x: hidden; }
        
        /* الهيدر */
        header { padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.6); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .logo-area { display: flex; align-items: center; gap: 12px; }
        .logo-area img { height: 45px; }
        .nav-btns { display: flex; gap: 10px; align-items: center; }
        .btn-action { padding: 8px 18px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 0.9rem; transition: 0.3s; }
        .btn-outline { border: 1px solid white; color: white; }
        .btn-outline:hover { background: white; color: var(--navy); }
        .btn-gold { background: var(--gold); color: white; }
        .btn-gold:hover { background: #e68a00; }

        /* منطقة الهيرو */
        .hero { text-align: center; padding: 100px 20px; background: linear-gradient(rgba(10,46,92,0.8), rgba(10,46,92,0.8)), url('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=1350&q=80'); background-size: cover; background-position: center; }
        .hero h1 { font-size: 2.5rem; margin-bottom: 10px; }

        /* صندوق البحث المطور */
        .search-box { background: white; padding: 30px; border-radius: 20px; display: flex; gap: 15px; max-width: 1100px; margin: -50px auto 40px; color: #333; box-shadow: 0 25px 50px rgba(0,0,0,0.4); align-items: flex-end; flex-wrap: wrap; }
        .field { flex: 1; min-width: 160px; display: flex; flex-direction: column; gap: 8px; text-align: right; }
        label { font-weight: bold; color: var(--navy); font-size: 0.9rem; }
        select, input { padding: 12px; border: 1px solid #ddd; border-radius: 10px; font-size: 1rem; width: 100%; box-sizing: border-box; font-family: inherit; outline: none; }
        select:focus, input:focus { border-color: var(--gold); }
        .btn-search { background: var(--gold); color: white; border: none; padding: 0 40px; border-radius: 10px; cursor: pointer; height: 50px; font-weight: bold; font-size: 1.1rem; flex-grow: 0.3; transition: 0.3s; }
        .btn-search:hover { background: #e68a00; transform: translateY(-2px); }

        /* شبكة النتائج */
        .results { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; padding: 20px; }
        .card { background: white; color: #333; padding: 25px; border-radius: 20px; text-align: center; display: none; border-bottom: 6px solid var(--gold); box-shadow: 0 10px 20px rgba(0,0,0,0.1); transition: 0.3s; }
        .card:hover { transform: translateY(-10px); }
        .price { font-size: 2rem; color: var(--navy); font-weight: 900; margin: 15px 0; }
        .card p { color: #666; font-size: 0.9rem; margin-bottom: 20px; }
        .btn-book { width: 100%; padding: 12px; background: var(--navy); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-book:hover { background: var(--gold); }

        /* نافذة الحجز (Modal) */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal-content { background: white; color: #333; padding: 35px; border-radius: 25px; width: 90%; max-width: 450px; text-align: right; position: relative; animation: slideUp 0.4s ease; }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .close-btn { position: absolute; left: 20px; top: 15px; cursor: pointer; font-size: 1.8rem; color: #999; }
        .modal-content input { margin-bottom: 15px; background: #f9f9f9; }
    </style>
</head>
<body>

    <header>
        <div class="nav-btns">
            <a href="track.html" class="btn-action btn-outline">تتبع شحنة</a>
            <a href="admin.html" style="color:var(--gold); text-decoration:none; font-weight:bold; margin-left:15px;">بوابة الشركات</a>
            <a href="login.html" class="btn-action btn-gold">دخول الأفراد</a>
        </div>
        <div class="logo-area">
            <span style="font-size: 1.8rem; font-weight: 900; letter-spacing: 1px;">SHIHNAH</span>
            <img src="icon.png" alt="Logo">
        </div>
    </header>

    <div class="hero">
        <h1>المنصة الموحدة للنقل اللوجستي بالمملكة</h1>
        <p>تغطية شاملة لكافة المدن والمناطق بأفضل الأسعار المتاحة</p>
    </div>

    <div class="search-box">
        <div class="field"><label>من مدينة:</label>
            <select id="from">
                <optgroup label="المنطقة الوسطى"><option>الرياض</option><option>الخرج</option><option>بريدة</option><option>عنيزة</option></optgroup>
                <optgroup label="المنطقة الغربية"><option>جدة</option><option>مكة المكرمة</option><option>المدينة المنورة</option><option>الطائف</option><option>ينبع</option></optgroup>
                <optgroup label="المنطقة الشرقية"><option>الدمام</option><option>الخبر</option><option>الجبيل</option><option>الهفوف</option><option>حفر الباطن</option></optgroup>
                <optgroup label="المناطق الشمالية والجنوبية"><option>تبوك</option><option>أبها</option><option>خميس مشيط</option><option>جازان</option><option>نجران</option><option>حائل</option><option>عرعر</option></optgroup>
                <optgroup label="المشاريع الكبرى"><option>نيوم (NEOM)</option><option>القدية</option><option>البحر الأحمر</option></optgroup>
            </select>
        </div>
        <div class="field"><label>إلى وجهة:</label>
            <select id="to">
                <optgroup label="المنطقة الوسطى"><option>الرياض</option><option>الخرج</option><option>بريدة</option><option>عنيزة</option></optgroup>
                <optgroup label="المنطقة الغربية"><option>جدة</option><option>مكة المكرمة</option><option>المدينة المنورة</option><option>الطائف</option><option>ينبع</option></optgroup>
                <optgroup label="المنطقة الشرقية"><option>الدمام</option><option>الخبر</option><option>الجبيل</option><option>الهفوف</option><option>حفر الباطن</option></optgroup>
                <optgroup label="المناطق الشمالية والجنوبية"><option>تبوك</option><option>أبها</option><option>خميس مشيط</option><option>جازان</option><option>نجران</option><option>حائل</option><option>عرعر</option></optgroup>
                <optgroup label="المشاريع الكبرى"><option>نيوم (NEOM)</option><option>القدية</option><option>البحر الأحمر</option></optgroup>
            </select>
        </div>
        <div class="field" style="flex: 0.4;"><label>الوزن:</label>
            <input type="number" id="weight" value="1" min="0.01">
        </div>
        <div class="field" style="flex: 0.4;"><label>الوحدة:</label>
            <select id="unit">
                <option value="kg">كيلوجرام (kg)</option>
                <option value="g">جرام (g)</option>
            </select>
        </div>
        <button class="btn-search" onclick="calculateResults()">بحث الأسعار</button>
    </div>

    <div class="results" id="resultsGrid">
        <div class="card" data-rate="22"><h3>المجدوعي</h3><p>النقل الثقيل واللوجستيات</p><div class="price">--</div><button class="btn-book">حجز الآن</button></div>
        <div class="card" data-rate="30"><h3>سمسا (SMSA)</h3><p>أوسع انتشار محلي</p><div class="price">--</div><button class="btn-book">حجز الآن</button></div>
        <div class="card" data-rate="28"><h3>أرامكس</h3><p>توصيل سريع ومرن</p><div class="price">--</div><button class="btn-book">حجز الآن</button></div>
        <div class="card" data-rate="15"><h3>زاجل</h3><p>شحن بري اقتصادي</p><div class="price">--</div><button class="btn-book">حجز الآن</button></div>
        <div class="card" data-rate="25"><h3>البسامي الدولية</h3><p>متخصصو نقل البضائع</p><div class="price">--</div><button class="btn-book">حجز الآن</button></div>
        <div class="card" data-rate="65"><h3>DHL السعودية</h3><p>المعايير العالمية للسعر</p><div class="price">--</div><button class="btn-book">حجز الآن</button></div>
    </div>

    <div id="bookingModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2 style="color:var(--navy); margin-top:0;">تأكيد الحجز</h2>
            <p>أنت بصدد الحجز مع: <strong id="modalCompName" style="color:var(--gold);"></strong></p>
            <label>اسم المرسل:</label>
            <input type="text" id="sName" placeholder="الاسم الكامل">
            <label>رقم الجوال:</label>
            <input type="tel" id="sPhone" placeholder="05xxxxxxxx">
            <label>العنوان بالتفصيل:</label>
            <input type="text" id="sAddr" placeholder="المدينة، الحي، الشارع">
            <button class="btn-book" style="font-size:1.1rem; padding:15px;" onclick="finishBooking()">تأكيد الطلب وإصدار رقم التتبع</button>
        </div>
    </div>

    <script>
        let selectedCompany = "";

        function calculateResults() {
            let w = parseFloat(document.getElementById('weight').value);
            let unit = document.getElementById('unit').value;
            let weightInKg = (unit === 'g') ? w / 1000 : w;
            
            document.querySelectorAll('.card').forEach(card => {
                card.style.display = 'block';
                let rate = parseFloat(card.getAttribute('data-rate'));
                let total = (weightInKg * rate).toFixed(2);
                card.querySelector('.price').innerText = (total < 15 ? 15 : total) + " ريال";
                
                // ربط زر الحجز بالشركة
                card.querySelector('button').onclick = () => openBooking(card.querySelector('h3').innerText);
            });
        }

        function openBooking(company) {
            selectedCompany = company;
            document.getElementById('modalCompName').innerText = company;
            document.getElementById('bookingModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('bookingModal').style.display = 'none';
        }

        function finishBooking() {
            let name = document.getElementById('sName').value;
            let phone = document.getElementById('sPhone').value;
            if(name == "" || phone == "") { alert("يرجى إكمال البيانات الأساسية"); return; }
            
            let trackId = "SH-" + Math.floor(100000 + Math.random() * 900000);
            alert("تم بنجاح!\nشركة: " + selectedCompany + "\nرقم التتبع الخاص بك هو: " + trackId + "\nسيتم التواصل معك فوراً.");
            closeModal();
        }
    </script>
</body>
</html>
